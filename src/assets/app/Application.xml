<?xml version="1.0" encoding="utf-8"?>
<Application>
		
	<NavigationController id="mainNav" width="1920" height="1080">
		<BasicComponent url="scenes/MainScene.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Scene01.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Scene02.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Scene03.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Scene04.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Scene05.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Scene06.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Scene07.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Scene08.xml"  width="100%" height="100%" />
		
		<BasicComponent url="scenes/Sub0.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Sub1.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Sub2.xml"  width="100%" height="100%" />
		<BasicComponent url="scenes/Sub3.xml"  width="100%" height="100%" />
	</NavigationController>
	<ImageButton url="images/main/logo.png" preload="true" effect="alpha" x="50" y="40" touchMode="true">
	</ImageButton>
	<ImageButton id="imageBt1" x="50" y="970" url="images/main/home.png" preload="true" effect="alpha" touchMode="true">
		<Click>
			<NavigationEvent controllerId="mainNav" showIdx="0" effect="flyIn" >
				<onComplete>
					<VideoEvent id="myvideo_00" action="play" />
				</onComplete>
			</NavigationEvent>
		</Click>
	</ImageButton>
	
	<ImageButton id="voice" class="active" x="150" y="970" url="images/main/voice.png" preload="true" effect="alpha" touchMode="true">

	</ImageButton>
	
	<VideoCanvas id="myMp3_01" src="media/type.mp3" autoplay="false" preload="true"></VideoCanvas>
	<VideoCanvas id="myMp3_bg" src="media/bea.mp3" autoplay="false" preload="true" loop="true"></VideoCanvas>
	
	<Events id="playClickSound">
		<VideoEvent id="myMp3_01" action="stop" />
		<VideoEvent id="myMp3_01" action="play" />
	</Events>
	
	<Events id="playBgSound">
		<VideoEvent id="myMp3_bg" action="stop" />
		<VideoEvent id="myMp3_bg" action="play" />
	</Events>

		
	<HtmlCanvas>
	
		<div class="content_voice"  style="display:none">
			<div style="height: 20px;width: 200px;left:222px;top:1008px;position:absolute;">
				<div class="zui slider"></div>
			</div>
		</div>

	</HtmlCanvas>

	<Add>
		<eval>
			var strBg = "&lt;events&gt;&lt;Events src=\"playBgSound\" /&gt;&lt;/events&gt;";
			ZML.BroadcastCenter.sendEvent(strBg);

			$.each(ZML.find("ImageButton"),function(){				
				this.view.click(function(){
					var str = "&lt;events&gt;&lt;Events src=\"playClickSound\" /&gt;&lt;/events&gt;";
					ZML.BroadcastCenter.sendEvent(str);
				});
			});
			
			
			$("#voice").click(function(){
				if($(this).hasClass("active")){
					$(this).removeClass("active");					
					$(".content_voice").show();
				}			
				else{
					$(this).addClass("active");					
					$(".content_voice").hide();
				}
			})
			
	
			var volume = "0.5";
	
			var strBg = "&lt;events&gt;&lt;VideoEvent id=\"myMp3_bg\" action=\"set\"  volume=\'"+volume+"\' /&gt;&lt;/events&gt;";
			ZML.BroadcastCenter.sendEvent(strBg);
			var slider = new ZML.Slider({
					view : $(".zui.slider").eq(0)
				});
				
				slider.setValue(volume);
				
				slider.view.on(ZML.Slider.CHANGE,function(e){
				
				
				volume = slider.getValue();
				
				console.log(volume)
							
				var strBg = "&lt;events&gt;&lt;VideoEvent id=\"myMp3_bg\" action=\"set\"  volume=\'"+volume+"\' /&gt;&lt;/events&gt;";
				ZML.BroadcastCenter.sendEvent(strBg);
				
			});
		</eval>
	</Add>
</Application>